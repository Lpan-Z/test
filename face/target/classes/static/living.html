<!DOCTYPE html><html lang="zh-CN">
<head>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content; connect-src 'self' http://localhost:9090 ws://localhost:* ">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI活体检测系统</title>
  <style>
        /* 基础样式 */
        :root {
            --primary-color: #00e676;
            --primary-hover: #00c853;
            --secondary-color: #00e5ff;
            --tertiary-color: #2979ff;
            --accent-color: #d500f9;
            --success-color: #00e676;
            --error-color: #ff1744;
            --bg-color: #0a0e17;
            --card-bg: rgba(16, 23, 36, 0.8);
            --text-primary: #e6fffd;
            --text-secondary: #b0bec5;
            --border-radius: 16px;
            --box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --neon-glow: 0 0 20px rgba(0, 229, 255, 0.6);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        @font-face {
            font-family: 'JetBrainsMono';
            src: url('https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2') format('woff2');
        }

        body {
            font-family: 'Rajdhani', 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            overflow-x: hidden;
        }

        /* 页面背景特效容器 */
        .background-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
        }

        /* Java代码雨背景 */
        #codeRain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background-color: var(--bg-color);
        }

        /* 背景渐变动画 */
        .bg-gradient {
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            z-index: -2;
            background: radial-gradient(ellipse at center,
                rgba(20, 40, 80, 0.2) 0%,
                rgba(10, 14, 23, 0.8) 60%,
                rgba(10, 14, 23, 1) 100%);
            opacity: 0.8;
            animation: rotateBg 120s linear infinite;
        }

        @keyframes rotateBg {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 粒子效果 */
        #particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        /* 星空效果 */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle var(--twinkle-duration) ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: var(--min-opacity); }
            50% { opacity: var(--max-opacity); }
        }

        /* 发光线条背景 */
        .grid-lines {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: -1;
        }

        .grid-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, rgba(0, 229, 255, 0.15), transparent);
            height: 1px;
            width: 100%;
            animation: flowingLine 15s linear infinite;
            opacity: 0.3;
        }

        @keyframes flowingLine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* 数字波浪 */
        .digital-wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            pointer-events: none;
            z-index: -1;
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top,
                rgba(0, 229, 255, 0.05) 0%,
                transparent 100%);
            opacity: 0.5;
        }

        .wave:nth-child(1) {
            animation: wave 20s linear infinite;
            z-index: 1;
            opacity: 0.2;
        }

        .wave:nth-child(2) {
            animation: wave 15s linear infinite;
            animation-delay: -5s;
            z-index: 2;
            opacity: 0.1;
        }

        .wave:nth-child(3) {
            animation: wave 30s linear infinite;
            animation-delay: -2s;
            z-index: 3;
            opacity: 0.05;
        }

        @keyframes wave {
            0% { transform: translateX(0) scaleY(1); }
            25% { transform: translateX(-25%) scaleY(0.8); }
            50% { transform: translateX(-50%) scaleY(1.2); }
            75% { transform: translateX(-75%) scaleY(0.9); }
            100% { transform: translateX(-100%) scaleY(1); }
        }

        /* 页面标题 */
        .page-title-container {
            position: relative;
            margin-bottom: 2.5rem;
            width: 100%;
            max-width: 600px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0;
            animation: fadeIn 1s forwards 2s;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        .page-title {
            text-align: center;
            color: var(--text-primary);
            font-weight: 600;
            letter-spacing: 3px;
            position: relative;
            text-transform: uppercase;
            padding: 1rem 2rem;
            background: rgba(0, 229, 255, 0.05);
            border-radius: 50px;
            animation: titlePulse 2s infinite alternate 3s;
            text-shadow: 0 0 15px var(--secondary-color);
            border: 1px solid rgba(0, 229, 255, 0.2);
            transition: var(--transition);
            cursor: default;
            overflow: hidden;
            white-space: nowrap;
            position: relative;
            animation: typing 3.5s steps(30, end) 2s 1 normal both,
                       titlePulse 2s infinite 5.5s alternate;
            width: 320px;
            z-index: 1;
        }

        .title-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                rgba(0, 229, 255, 0) 0%,
                rgba(0, 229, 255, 0.1) 50%,
                rgba(0, 229, 255, 0) 100%);
            z-index: -1;
            transform: skewX(-20deg) translateX(-100%);
            animation: titleBgSlide 3s ease-in-out infinite 5.5s;
        }

        @keyframes titleBgSlide {
            0% { transform: skewX(-20deg) translateX(-100%); }
            100% { transform: skewX(-20deg) translateX(100%); }
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 320px; }
        }

        @keyframes titlePulse {
            0% { box-shadow: 0 0 10px rgba(0, 229, 255, 0.3); }
            100% { box-shadow: 0 0 25px rgba(0, 229, 255, 0.6); }
        }

        .page-title::before,
        .page-title::after {
            content: '⟨';
            position: absolute;
            font-weight: 300;
            color: var(--secondary-color);
            animation: bracketBlink 1.5s infinite alternate;
        }

        .page-title::before {
            left: -10px;
        }

        .page-title::after {
            content: '⟩';
            right: -10px;
        }

        @keyframes bracketBlink {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* 标题下的装饰线 */
        .title-underline {
            width: 280px;
            height: 1px;
            margin-top: 8px;
            background: linear-gradient(90deg,
                transparent,
                var(--secondary-color),
                transparent);
            position: relative;
            opacity: 0;
            animation: fadeIn 0.5s forwards 5.5s;
        }

        .title-underline::before {
            content: '';
            position: absolute;
            top: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background-color: var(--secondary-color);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--secondary-color);
            animation: pulsePoint 2s infinite;
        }

        @keyframes pulsePoint {
            0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.7; }
            50% { transform: translateX(-50%) scale(1.5); opacity: 1; }
        }

        /* 主容器 */
        .container {
            max-width: 1300px;
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2.5rem;
            position: relative;
            z-index: 1;
            perspective: 2000px;
            opacity: 0;
            animation: fadeInContainer 0.8s cubic-bezier(.17,.67,.35,1.44) 2.5s forwards;
        }

        @keyframes fadeInContainer {
            from {
                opacity: 0;
                transform: translateY(30px) rotateX(10deg);
            }
            to {
                opacity: 1;
                transform: translateY(0) rotateX(0);
            }
        }

        @media (max-width: 992px) {
            .container {
                grid-template-columns: 1fr;
            }
        }

        /* 环形加载指示器 */
        .ring-indicator-container {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            animation: fadeIn 0.5s forwards 3s;
            z-index: 10;
        }

        .ring-indicator {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid transparent;
            border-top-color: var(--secondary-color);
            border-bottom-color: var(--primary-color);
            animation: spin 1.5s linear infinite;
        }

        .ring-indicator::before,
        .ring-indicator::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            border: 2px solid transparent;
        }

        .ring-indicator::before {
            top: 5px;
            left: 5px;
            right: 5px;
            bottom: 5px;
            border-top-color: var(--accent-color);
            border-left-color: var(--tertiary-color);
            animation: spin 2s linear infinite reverse;
        }

        .ring-indicator::after {
            top: 15px;
            left: 15px;
            right: 15px;
            bottom: 15px;
            border-bottom-color: var(--secondary-color);
            border-right-color: var(--primary-color);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 卡片样式 */
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 229, 255, 0.2);
            position: relative;
            transition: var(--transition);
            transform-style: preserve-3d;
            animation: cardFloat 6s ease-in-out infinite alternate;
        }

        .card-left {
            transform: perspective(1500px) rotateY(5deg);
            animation: cardFloatLeft 8s ease-in-out infinite alternate;
        }

        .card-right {
            transform: perspective(1500px) rotateY(-5deg);
            animation: cardFloatRight 8s ease-in-out infinite alternate;
        }

        @keyframes cardFloatLeft {
            0% { transform: perspective(1500px) rotateY(5deg) translateY(0); }
            50% { transform: perspective(1500px) rotateY(2deg) translateY(-10px); }
            100% { transform: perspective(1500px) rotateY(8deg) translateY(5px); }
        }

        @keyframes cardFloatRight {
            0% { transform: perspective(1500px) rotateY(-5deg) translateY(0); }
            50% { transform: perspective(1500px) rotateY(-2deg) translateY(-10px); }
            100% { transform: perspective(1500px) rotateY(-8deg) translateY(5px); }
        }

        .card:hover {
            box-shadow: var(--neon-glow);
            transform: translateY(-15px) scale(1.02);
            border-color: rgba(0, 229, 255, 0.5);
        }

        /* 卡片霓虹边框效果 */
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: var(--border-radius);
            padding: 2px;
            background: linear-gradient(135deg,
                transparent 40%,
                rgba(0, 229, 255, 0.3),
                rgba(0, 230, 118, 0.3),
                transparent 60%);
            -webkit-mask:
                linear-gradient(#fff 0 0) content-box,
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            background-size: 300% 300%;
            animation: borderGradient 3s linear infinite;
            pointer-events: none;
            transition: var(--transition);
        }

        @keyframes borderGradient {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        .card-glitch {
            overflow: hidden;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0;
            pointer-events: none;
            z-index: 3;
        }

        .card:hover .card-glitch {
            animation: glitchEffect 2s steps(2, end) 0.2s forwards;
        }

        @keyframes glitchEffect {
            0% {
                opacity: 0;
                transform: translate(0);
            }
            20% {
                opacity: 0.2;
                transform: translate(-5px, 5px);
                clip-path: polygon(0 0, 100% 0, 100% 15%, 0 25%);
            }
            40% {
                opacity: 0;
            }
            60% {
                opacity: 0.3;
                transform: translate(5px, -5px);
                clip-path: polygon(0 65%, 100% 45%, 100% 75%, 0 90%);
            }
            80% {
                opacity: 0;
            }
            100% {
                opacity: 0;
            }
        }

        .card-header {
            padding: 1.5rem;
            background: rgba(0, 10, 20, 0.6);
            border-bottom: 1px solid rgba(0, 229, 255, 0.2);
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1;
        }

        /* 卡片标题环绕圆圈光效 */
        .card-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(
                circle at 30% 50%,
                rgba(0, 229, 255, 0.12) 0%,
                transparent 50%
            );
            opacity: 0;
            transition: opacity 0.5s;
        }

        .card:hover .card-header::before {
            opacity: 1;
        }

        .card-title {
            margin: 0;
            color: var(--text-primary);
            font-size: 1.5rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            text-shadow: 0 0 10px rgba(0, 229, 255, 0.5);
            transition: var(--transition);
        }

        .card:hover .card-title {
            text-shadow: 0 0 15px rgba(0, 229, 255, 0.7);
            transform: translateX(5px);
        }

        .card-title i {
            margin-right: 12px;
            font-size: 1.3em;
            color: var(--secondary-color);
            text-shadow: 0 0 8px rgba(0, 229, 255, 0.5);
            animation: iconPulse 2s infinite alternate;
        }

        @keyframes iconPulse {
            0% { text-shadow: 0 0 8px rgba(0, 229, 255, 0.5); }
            100% { text-shadow: 0 0 20px rgba(0, 229, 255, 0.8); }
        }

        .card-body {
            padding: 1.5rem;
            position: relative;
        }

        /* 数据模拟线动画 */
        .data-lines {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30px;
            display: flex;
            justify-content: space-between;
            padding: 0 10px;
            opacity: 0.2;
            pointer-events: none;
        }

        .data-line {
            width: 2px;
            background-color: var(--primary-color);
            animation: dataLine 1.5s ease-in-out infinite alternate;
            transform-origin: bottom;
        }

        @keyframes dataLine {
            0% { transform: scaleY(0.2); }
            100% { transform: scaleY(1); }
        }

        .data-line:nth-child(1) { animation-delay: 0s; }
        .data-line:nth-child(2) { animation-delay: 0.1s; }
        .data-line:nth-child(3) { animation-delay: 0.2s; }
        .data-line:nth-child(4) { animation-delay: 0.3s; }
        .data-line:nth-child(5) { animation-delay: 0.4s; }
        .data-line:nth-child(6) { animation-delay: 0.5s; }
        .data-line:nth-child(7) { animation-delay: 0.6s; }
        .data-line:nth-child(8) { animation-delay: 0.7s; }
        .data-line:nth-child(9) { animation-delay: 0.8s; }
        .data-line:nth-child(10) { animation-delay: 0.9s; }
        .data-line:nth-child(11) { animation-delay: 1.0s; }
        .data-line:nth-child(12) { animation-delay: 1.1s; }
        .data-line:nth-child(13) { animation-delay: 1.2s; }
        .data-line:nth-child(14) { animation-delay: 1.3s; }
        .data-line:nth-child(15) { animation-delay: 1.4s; }

        /* 摄像头预览区域 */
        .camera-box {
            position: relative;
        }

        /* 视频元素样式 */
        #videoPreview {
            width: 100%;
            height: 450px;
            object-fit: cover;
            border-radius: calc(var(--border-radius) - 4px);
            background: #0a1929;
            transform: scaleX(-1); /* 镜像翻转 */
            transition: var(--transition);
            border: 1px solid rgba(0, 229, 255, 0.2);
            filter: contrast(1.05) brightness(1.1);
        }

        /* 视频预览动画效果 */
        .video-container {
            position: relative;
            border-radius: calc(var(--border-radius) - 4px);
            transform-style: preserve-3d;
            transition: var(--transition);
            overflow: hidden;
        }

        .video-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg,
                transparent,
                rgba(0, 229, 255, 0.1),
                transparent);
            animation: videoBgShine 5s linear infinite;
            pointer-events: none;
            z-index: 2;
        }

        @keyframes videoBgShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .camera-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 2;
        }

        .camera-frame {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 250px;
            height: 300px;
            border: 2px solid rgba(0, 229, 255, 0.7);
            border-radius: 15px;
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
            animation: framePulse 2s infinite alternate;
            overflow: hidden;
        }

        .camera-frame::before {
            content: '';
            position: absolute;
            top: -10%;
            left: -10%;
            width: 120%;
            height: 120%;
            background: radial-gradient(circle at center, transparent 30%, rgba(0, 229, 255, 0.1) 70%);
            opacity: 0.5;
            animation: glowPulse 3s infinite alternate;
        }

        @keyframes glowPulse {
            0% { opacity: 0.3; transform: scale(1); }
            100% { opacity: 0.7; transform: scale(1.1); }
        }

        .camera-corners::before,
        .camera-corners::after,
        .camera-corners span::before,
        .camera-corners span::after {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            border-color: var(--secondary-color);
            border-style: solid;
            opacity: 0.9;
            transition: var(--transition);
        }

        .camera-corners::before {
            top: -2px;
            left: -2px;
            border-width: 3px 0 0 3px;
            border-radius: 10px 0 0 0;
            animation: cornerBlink 2s infinite;
        }

        .camera-corners::after {
            top: -2px;
            right: -2px;
            border-width: 3px 3px 0 0;
            border-radius: 0 10px 0 0;
            animation: cornerBlink 2s infinite 0.5s;
        }

        .camera-corners span::before {
            bottom: -2px;
            left: -2px;
            border-width: 0 0 3px 3px;
            border-radius: 0 0 0 10px;
            animation: cornerBlink 2s infinite 1s;
        }

        .camera-corners span::after {
            bottom: -2px;
            right: -2px;
            border-width: 0 3px 3px 0;
            border-radius: 0 0 10px 0;
            animation: cornerBlink 2s infinite 1.5s;
        }

        @keyframes cornerBlink {
            0%, 100% { opacity: 0.7; box-shadow: 0 0 5px rgba(0, 229, 255, 0.5); }
            50% { opacity: 1; box-shadow: 0 0 15px rgba(0, 229, 255, 0.8); }
        }

        @keyframes framePulse {
            0% { box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5), 0 0 0 2px rgba(0, 229, 255, 0.7); }
            100% { box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5), 0 0 0 4px rgba(0, 229, 255, 0.9); }
        }

        /* 扫描线效果 */
        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, transparent, rgba(0, 229, 255, 0.8), transparent);
            animation: scanAnimation 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;
            box-shadow: 0 0 20px rgba(0, 229, 255, 0.8);
        }

        @keyframes scanAnimation {
            0% { top: 0; opacity: 0.7; height: 5px; }
            50% { opacity: 1; height: 8px; }
            100% { top: calc(100% - 8px); opacity: 0.7; height: 5px; }
        }

        /* 扫描特效 */
        .scan-effect {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom,
                rgba(0, 229, 255, 0) 0%,
                rgba(0, 229, 255, 0.1) 50%,
                rgba(0, 229, 255, 0) 100%);
            opacity: 0;
            z-index: 3;
            pointer-events: none;
        }

        .scan-active .scan-effect {
            animation: scanEffect 1.5s linear;
        }

        @keyframes scanEffect {
            0% { transform: translateY(-100%); opacity: 0.8; }
            100% { transform: translateY(100%); opacity: 0; }
        }

        /* 十字准星效果 */
        .crosshair {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90px;
            height: 90px;
            opacity: 0.5;
            pointer-events: none;
            z-index: 2;
        }

        .crosshair::before,
        .crosshair::after {
            content: "";
            position: absolute;
            background-color: var(--tertiary-color);
        }

        .crosshair::before {
            top: 50%;
            left: 0;
            width: 100%;
            height: 1px;
            transform: translateY(-50%);
        }

        .crosshair::after {
            top: 0;
            left: 50%;
            width: 1px;
            height: 100%;
            transform: translateX(-50%);
        }

        .crosshair-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            border: 1px solid var(--tertiary-color);
            border-radius: 50%;
            animation: circlePulse 2s infinite alternate;
        }

        @keyframes circlePulse {
            0% { width: 70px; height: 70px; opacity: 0.3; }
            100% { width: 80px; height: 80px; opacity: 0.7; }
        }

        /* 辅助扫描线 */
        .scan-guides {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.3;
        }

        .scan-guide-h, .scan-guide-v {
            position: absolute;
            background-color: rgba(0, 229, 255, 0.3);
        }

        .scan-guide-h {
            width: 100%;
            height: 1px;
            left: 0;
            animation: scanGuideHorizontal 8s linear infinite;
        }

        .scan-guide-v {
            width: 1px;
            height: 100%;
            top: 0;
            animation: scanGuideVertical 12s linear infinite;
        }

        @keyframes scanGuideHorizontal {
            0% { top: 0; }
            100% { top: 100%; }
        }

        @keyframes scanGuideVertical {
            0% { left: 0; }
            100% { left: 100%; }
        }

        /* 覆盖层网格效果 */
        .grid-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(0, 229, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 229, 255, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 1;
        }

        /* 图片预览 */
        .preview-image {
            width: 100%;
            height: 450px;
            object-fit: contain;
            border-radius: calc(var(--border-radius) - 4px);
            background: rgba(0, 10, 30, 0.3);
            transition: var(--transition);
            border: 1px solid rgba(0, 229, 255, 0.2);
            filter: contrast(1.05);
        }

        /* 预览图像放大特效 */
        .preview-container {
            position: relative;
            border-radius: calc(var(--border-radius) - 4px);
            overflow: hidden;
            transition: var(--transition);
        }

        .preview-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(
                circle at center,
                transparent 30%,
                rgba(0, 10, 30, 0.8) 100%
            );
            opacity: 0.3;
            pointer-events: none;
            z-index: 1;
        }

        /* 图像扫描线 */
        .image-scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg,
                transparent 0%,
                rgba(0, 229, 255, 0.5) 50%,
                transparent 100%);
            box-shadow: 0 0 10px rgba(0, 229, 255, 0.5);
            opacity: 0.5;
            animation: imageScanLine 3s linear infinite;
            pointer-events: none;
            z-index: 2;
        }

        @keyframes imageScanLine {
            0% { top: -5px; }
            100% { top: 100%; }
        }

        /* 数据分析点 */
        .analysis-points {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .analysis-point {
            position: absolute;
            width: 6px;
            height: 6px;
            background-color: rgba(0, 229, 255, 0.7);
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(0, 229, 255, 0.7);
            opacity: 0;
            animation: pointPulse 3s;
        }

        @keyframes pointPulse {
            0% { transform: scale(0); opacity: 0; }
            20% { transform: scale(1); opacity: 0.8; }
            80% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(0); opacity: 0; }
        }

        /* 按钮容器 */
        .button-group {
            display: flex;
            justify-content: center;
            margin-top: 1.5rem;
            gap: 1rem;
            flex-wrap: wrap;
        }

        /* 按钮样式 */
        .action-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-color) 50%, var(--primary-hover));
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 40px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 180px;
            position: relative;
            overflow: hidden;
            z-index: 1;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            letter-spacing: 1px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2), inset 0 1px rgba(255, 255, 255, 0.1);
            transform: translateZ(0);
        }

        /* 按钮内发光边框 */
        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.3) 50%, rgba(255, 255, 255, 0) 100%);
            transform: translateX(-100%);
            transition: 0.5s;
            z-index: -1;
        }

        .action-btn:hover::before {
            transform: translateX(100%);
        }

        /* 按钮点击涟漪效果 */
        .action-btn::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }

        .action-btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }

        .action-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 30px rgba(0, 198, 83, 0.3);
        }

        .action-btn:active {
            transform: translateY(1px) scale(0.98);
        }

        /* 添加按钮点击效果 */
        .btn-click-effect {
            animation: btnClickEffect 0.5s cubic-bezier(.36,.07,.19,.97);
        }

        @keyframes btnClickEffect {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
        }

        .btn-capture {
            background: linear-gradient(135deg, #00e676, #00c853);
        }

        .btn-retry {
            background: linear-gradient(135deg, #546e7a, #37474f);
        }

        .btn-retry:hover {
            box-shadow: 0 15px 30px rgba(55, 71, 79, 0.3);
        }

        /* 按钮图标动画 */
        .action-btn i {
            transition: var(--transition);
            margin-right: 10px;
            font-size: 1.2em;
        }

        .action-btn:hover i {
            transform: scale(1.2) rotate(10deg);
        }

        /* 按钮霓虹光晕 */
        .btn-glow {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: radial-gradient(circle at center, rgba(0, 230, 118, 0.8), transparent 70%);
            opacity: 0;
            filter: blur(20px);
            transition: opacity 0.3s;
        }

        .action-btn:hover .btn-glow {
            opacity: 0.2;
        }

        /* 结果提示样式 */
        .result-message {
            padding: 1.2rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-size: 1.2rem;
            font-weight: 500;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            min-height: 60px;
            backdrop-filter: blur(5px);
            animation: messageAppear 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-origin: center;
            position: relative;
            overflow: hidden;
        }

        @keyframes messageAppear {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .success {
            background: rgba(0, 200, 83, 0.15);
            color: var(--success-color);
            border: 1px solid rgba(0, 200, 83, 0.3);
            box-shadow: 0 0 15px rgba(0, 200, 83, 0.3);
            animation: successPulse 2s infinite alternate;
        }

        @keyframes successPulse {
            0% { box-shadow: 0 0 15px rgba(0, 200, 83, 0.3); }
            100% { box-shadow: 0 0 25px rgba(0, 200, 83, 0.5); }
        }

        .error {
            background: rgba(255, 23, 68, 0.15);
            color: var(--error-color);
            border: 1px solid rgba(255, 23, 68, 0.3);
            box-shadow: 0 0 15px rgba(255, 23, 68, 0.3);
            animation: errorPulse 2s infinite alternate;
        }

        @keyframes errorPulse {
            0% { box-shadow: 0 0 15px rgba(255, 23, 68, 0.3); }
            100% { box-shadow: 0 0 25px rgba(255, 23, 68, 0.5); }
        }

        /* 在结果消息上添加故障效果 */
        .result-message::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: scanGlitch 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
            pointer-events: none;
        }

        /* 结果状态条纹 */
        .result-message::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255, 255, 255, 0.05) 10px,
                rgba(255, 255, 255, 0.05) 20px
            );
            pointer-events: none;
            z-index: -1;
        }

        @keyframes scanGlitch {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .result-message i {
            margin-right: 10px;
            font-size: 1.4em;
            animation: iconBounce 1s infinite alternate;
        }

        @keyframes iconBounce {
            0% { transform: scale(1); }
            100% { transform: scale(1.2); }
        }

        /* 加载动画 */
        .loading {
            display: none;
            margin: 1.5rem 0;
            text-align: center;
            color: var(--text-secondary);
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .loading-text {
            margin-top: 15px;
            position: relative;
            display: inline-block;
            font-weight: 500;
            letter-spacing: 1px;
            color: var(--text-primary);
            text-shadow: 0 0 10px rgba(0, 229, 255, 0.5);
        }

        .loading-text::after {
            content: '';
            position: absolute;
            right: -15px;
            width: 10px;
            animation: loadingDots 1.5s infinite;
        }

        @keyframes loadingDots {
            0% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
            100% { content: ''; }
        }

        /* 赛博朋克风格加载动画 */
        .cyberpunk-spinner {
            position: relative;
            width: 100px;
            height: 100px;
            margin: 0 auto;
            perspective: 1000px;
        }

        .cyberpunk-spinner .face {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid transparent;
            animation: spinner-rotate 3s linear infinite;
        }

        .cyberpunk-spinner .face-1 {
            border-top-color: var(--secondary-color);
            animation-delay: 0s;
        }

        .cyberpunk-spinner .face-2 {
            border-right-color: var(--primary-color);
            animation-delay: -0.5s;
        }

        .cyberpunk-spinner .face-3 {
            border-bottom-color: var(--primary-color);
            animation-delay: -1s;
        }

        .cyberpunk-spinner .face-4 {
            border-left-color: var(--secondary-color);
            animation-delay: -1.5s;
        }

        @keyframes spinner-rotate {
            0% { transform: rotateX(0deg) rotateY(0deg); }
            25% { transform: rotateX(180deg) rotateY(0deg); }
            50% { transform: rotateX(180deg) rotateY(180deg); }
            75% { transform: rotateX(0deg) rotateY(180deg); }
            100% { transform: rotateX(0deg) rotateY(0deg); }
        }

        .cyberpunk-spinner .inner {
            position: absolute;
            width: 60%;
            height: 60%;
            top: 20%;
            left: 20%;
            background: rgba(0, 229, 255, 0.1);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(0, 229, 255, 0.5);
            animation: innerPulse 2s ease-in-out infinite alternate;
        }

        /* 旋转内环 */
        .cyberpunk-spinner .inner::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border: 2px dashed var(--secondary-color);
            border-radius: 50%;
            animation: innerSpin 10s linear infinite;
            opacity: 0.6;
        }

        @keyframes innerSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes innerPulse {
            0% { transform: scale(0.8); box-shadow: 0 0 20px rgba(0, 229, 255, 0.3); }
            100% { transform: scale(1.1); box-shadow: 0 0 30px rgba(0, 229, 255, 0.6); }
        }

        /* 加载状态粒子 */
        .loading-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .loading-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background-color: var(--secondary-color);
            border-radius: 50%;
            animation: particleFloat 3s infinite;
        }

        @keyframes particleFloat {
            0% { transform: translate(0, 0); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translate(0, -50px); opacity: 0; }
        }

        /* 浮动数据标签 */
        .data-tags {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.7;
        }

        .data-tag {
            position: absolute;
            font-family: 'JetBrainsMono', monospace;
            font-size: 10px;
            color: var(--secondary-color);
            background: rgba(0, 10, 20, 0.7);
            padding: 3px 6px;
            border-radius: 4px;
            border: 1px solid rgba(0, 229, 255, 0.3);
            animation: tagFloat 10s linear infinite;
            white-space: nowrap;
            z-index: 10;
        }

        /* 标签连接线 */
        .data-tag::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 20px;
            height: 1px;
            background: linear-gradient(90deg,
                var(--secondary-color),
                transparent);
            z-index: -1;
        }

        .data-tag:nth-child(odd)::after {
            left: -20px;
            transform: translateY(-50%);
        }

        .data-tag:nth-child(even)::after {
            right: -20px;
            transform: translateY(-50%);
            background: linear-gradient(90deg,
                transparent,
                var(--secondary-color));
        }

        @keyframes tagFloat {
            0% { transform: translateY(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-50px); opacity: 0; }
        }

        /* HUD风格信息显示 */
        .hud-info {
            font-size: 10px;
            color: var(--secondary-color);
            font-family: 'JetBrainsMono', monospace;
            text-align: right;
            pointer-events: none;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .hud-status {
            display: inline-block;
            padding: 3px 8px;
            background: rgba(0, 229, 255, 0.1);
            border: 1px solid rgba(0, 229, 255, 0.3);
            border-radius: 4px;
            margin-bottom: 4px;
            transition: var(--transition);
            animation: statusPulse 2s infinite alternate;
            position: relative;
            overflow: hidden;
        }

        /* 状态指示器旋转边框 */
        .hud-status::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 3px;
            height: 100%;
            background: var(--secondary-color);
            animation: statusBlink 1s infinite;
        }

        /* 状态栏背景动画 */
        .hud-status::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent 0%,
                rgba(0, 229, 255, 0.1) 50%,
                transparent 100%);
            animation: statusBgPulse 3s infinite;
            z-index: -1;
        }

        @keyframes statusBgPulse {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes statusBlink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        @keyframes statusPulse {
            0% { box-shadow: 0 0 5px rgba(0, 229, 255, 0.2); }
            100% { box-shadow: 0 0 10px rgba(0, 229, 255, 0.4); }
        }

        /* 科幻装饰元素 */
        .tech-circuit {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 80px;
            height: 80px;
            pointer-events: none;
            opacity: 0.15;
            z-index: 0;
        }

        .tech-circuit path {
            stroke-dasharray: 100;
            stroke-dashoffset: 100;
            animation: drawCircuit 3s linear forwards, glowCircuit 2s infinite alternate 3s;
        }

        @keyframes drawCircuit {
            to { stroke-dashoffset: 0; }
        }

        @keyframes glowCircuit {
            from { stroke: var(--secondary-color); }
            to { stroke: var(--primary-color); }
        }

        /* 3D元素旋转 */
        .rotating-element {
            position: absolute;
            width: 50px;
            height: 50px;
            top: 20px;
            left: 20px;
            pointer-events: none;
            opacity: 0.2;
            animation: rotate3D 10s linear infinite;
            transform-style: preserve-3d;
        }

        @keyframes rotate3D {
            0% { transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg); }
            100% { transform: rotateX(360deg) rotateY(180deg) rotateZ(360deg); }
        }

        /* 动态模糊效果 */
        .motion-blur {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            opacity: 0;
            backdrop-filter: blur(5px);
            transition: opacity 0.3s;
            z-index: 10;
        }

        /* 状态指示动画 */
        .status-indicator {
            position: absolute;
            bottom: 20px;
            left: 20px;
            display: flex;
            align-items: center;
            font-family: 'JetBrainsMono', monospace;
            font-size: 10px;
            color: var(--secondary-color);
            z-index: 10;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--secondary-color);
            margin-right: 6px;
            animation: statusDotBlink 1s infinite alternate;
        }

        @keyframes statusDotBlink {
            0% { opacity: 0.5; box-shadow: 0 0 5px var(--secondary-color); }
            100% { opacity: 1; box-shadow: 0 0 10px var(--secondary-color); }
        }

        /* 数据处理动画 */
        .data-processing {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 20px;
            display: flex;
            justify-content: space-between;
            z-index: 10;
        }

        .processing-bar {
            width: 3px;
            height: 100%;
            background-color: var(--secondary-color);
            animation: processingBar 1.2s ease-in-out infinite;
            transform-origin: bottom;
        }

        @keyframes processingBar {
            0%, 100% { transform: scaleY(0.3); }
            50% { transform: scaleY(1); }
        }

        .processing-bar:nth-child(2) { animation-delay: 0.1s; }
        .processing-bar:nth-child(3) { animation-delay: 0.2s; }
        .processing-bar:nth-child(4) { animation-delay: 0.3s; }
        .processing-bar:nth-child(5) { animation-delay: 0.4s; }

        /* 系统启动动画 */
        .system-boot {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1000;
            animation: systemBoot 2s forwards;
            pointer-events: none;
        }

        .boot-logo {
            width: 120px;
            height: 120px;
            border: 3px solid var(--secondary-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .boot-logo::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            background: conic-gradient(transparent, var(--secondary-color), transparent 30%);
            animation: rotate 2s linear infinite;
        }

        .boot-logo::after {
            content: '';
            position: absolute;
            width: calc(100% - 10px);
            height: calc(100% - 10px);
            background: var(--bg-color);
            border-radius: 50%;
            z-index: 1;
        }

        .boot-logo i {
            font-size: 40px;
            color: var(--secondary-color);
            z-index: 2;
            animation: fadeIn 1s;
        }

        .boot-text {
            font-family: 'JetBrainsMono', monospace;
            color: var(--secondary-color);
            font-size: 18px;
            text-align: center;
            opacity: 0;
            animation: bootTextAppear 1s forwards 0.5s;
        }

        .boot-progress {
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            margin-top: 20px;
            border-radius: 2px;
            overflow: hidden;
            opacity: 0;
            animation: bootTextAppear 0.5s forwards 0.8s;
        }

        .boot-progress-bar {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, var(--secondary-color), var(--primary-color));
            animation: progressBar 1.5s forwards 1s;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes bootTextAppear {
            to { opacity: 1; }
        }

        @keyframes progressBar {
            to { width: 100%; }
        }

        @keyframes systemBoot {
            0%, 85% { opacity: 1; }
            100% { opacity: 0; visibility: hidden; }
        }

        /* 数字故障图块 */
        .glitch-block {
            position: absolute;
            background-color: var(--primary-color);
            opacity: 0.1;
            pointer-events: none;
            z-index: 10;
        }

        /* 全局响应式调整 */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .container {
                gap: 1.5rem;
            }

            #videoPreview, .preview-image {
                height: 350px;
            }

            .card-header {
                padding: 1rem;
            }

            .card-body {
                padding: 1rem;
            }

            .action-btn {
                width: 100%;
                padding: 12px 20px;
            }
        }
    </style>
  <!-- 添加FontAwesome图标库 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <!-- 添加科技感字体 -->
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600&amp;display=swap" rel="stylesheet">
</head>
<body>
<!-- 系统启动动画 -->
<div class="system-boot">
  <div class="boot-logo">
    <i class="fas fa-microchip"></i>
  </div>
  <div class="boot-text">生物识别系统启动中...</div>
  <div class="boot-progress">
    <div class="boot-progress-bar"></div>
  </div>
</div>

<!-- 背景特效容器 -->
<div class="background-effects">
  <!-- 背景渐变 -->
  <div class="bg-gradient"></div>

  <!-- Java代码雨背景 -->
  <canvas id="codeRain"></canvas>

  <!-- 粒子效果 -->
  <canvas id="particles"></canvas>

  <!-- 星空效果 -->
  <div class="stars"></div>

  <!-- 网格线背景 -->
  <div class="grid-lines">
    <div class="grid-line" style="top: 15%; animation-delay: 0s;"></div>
    <div class="grid-line" style="top: 35%; animation-delay: 3s;"></div>
    <div class="grid-line" style="top: 65%; animation-delay: 6s;"></div>
    <div class="grid-line" style="top: 85%; animation-delay: 9s;"></div>
  </div>

  <!-- 数字波浪 -->
  <div class="digital-wave">
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
  </div>
</div>

<div class="page-title-container">
  <h1 class="page-title">活体检测系统<div class="title-bg"></div></h1>
  <div class="title-underline"></div>
</div>

<div class="ring-indicator-container">
  <div class="ring-indicator"></div>
</div>

<div class="container">
  <!-- 左侧摄像头区域 -->
  <div class="card card-left camera-box">
    <div class="card-glitch"></div>
    <div class="card-header">
      <h2 class="card-title"><i class="fas fa-video"></i> 摄像头预览</h2>
      <div class="hud-info">
        <span class="hud-status">CAMERA ACTIVE</span>
        <span class="hud-status">FACE DETECTION ENABLED</span>
      </div>
    </div>
    <div class="card-body">
      <div class="status-indicator">
        <div class="status-dot"></div>
        <span>系统运行中</span>
      </div>

      <div class="data-processing">
        <div class="processing-bar"></div>
        <div class="processing-bar"></div>
        <div class="processing-bar"></div>
        <div class="processing-bar"></div>
        <div class="processing-bar"></div>
      </div>

      <div style="position: relative;" id="cameraContainer" class="video-container">
        <video id="videoPreview" autoplay="" playsinline=""></video>
        <div class="camera-overlay">
          <div class="camera-frame">
            <div class="camera-corners"><span></span></div>
            <div class="scan-line"></div>
          </div>
          <div class="crosshair">
            <div class="crosshair-circle"></div>
          </div>
        </div>
        <div class="scan-effect"></div>
        <div class="grid-overlay"></div>

        <!-- 扫描辅助线 -->
        <div class="scan-guides">
          <div class="scan-guide-h"></div>
          <div class="scan-guide-v"></div>
        </div>

        <!-- 浮动数据标签 -->
        <div class="data-tags">
          <div class="data-tag" style="top: 30%; left: 20%;">检测中...</div>
          <div class="data-tag" style="top: 45%; left: 70%;">人脸跟踪</div>
          <div class="data-tag" style="top: 70%; left: 30%;">特征分析</div>
        </div>

        <!-- 数字故障图块 -->
        <div class="glitch-block" style="top: 20%; left: 10%; width: 20px; height: 5px;"></div>
        <div class="glitch-block" style="top: 35%; left: 80%; width: 15px; height: 10px;"></div>
        <div class="glitch-block" style="top: 75%; left: 25%; width: 10px; height: 8px;"></div>
      </div>
      <div class="button-group" id="cameraControls">
        <button class="action-btn btn-capture" onclick="capturePhoto()">
          <i class="fas fa-camera icon"></i>拍摄照片
          <div class="btn-glow"></div>
        </button>
        <button class="action-btn btn-retry" onclick="resetCamera()" style="display: none;" id="retryBtn">
          <i class="fas fa-redo icon"></i>重新拍摄
          <div class="btn-glow"></div>
        </button>
      </div>

      <!-- 装饰性数据线 -->
      <div class="data-lines">
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
      </div>
    </div>

    <!-- 装饰性3D元素 -->
    <div class="rotating-element">
      <svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
        <path d="M25,5 L45,25 L25,45 L5,25 Z" fill="none" stroke="var(--secondary-color)" stroke-width="1"></path>
        <path d="M25,5 L25,45" fill="none" stroke="var(--secondary-color)" stroke-width="1"></path>
        <path d="M5,25 L45,25" fill="none" stroke="var(--secondary-color)" stroke-width="1"></path>
      </svg>
    </div>

    <!-- 装饰性电路图 -->
    <svg class="tech-circuit" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
      <path d="M10,50 L30,50 L30,20 L50,20 L50,80 L70,80 L70,50 L90,50" fill="none" stroke="var(--secondary-color)" stroke-width="1.5"></path>
      <circle cx="30" cy="50" r="3" fill="var(--secondary-color)"></circle>
      <circle cx="50" cy="20" r="3" fill="var(--secondary-color)"></circle>
      <circle cx="70" cy="80" r="3" fill="var(--secondary-color)"></circle>
    </svg>

    <!-- 动态模糊效果 -->
    <div class="motion-blur"></div>
  </div>

  <!-- 右侧结果区域 -->
  <div class="card card-right result-box">
    <div class="card-glitch"></div>
    <div class="card-header">
      <h2 class="card-title"><i class="fas fa-check-circle"></i> 检测结果</h2>
      <div class="hud-info">
        <span class="hud-status">VERIFICATION MODULE READY</span>
        <span class="hud-status">SECURE CONNECTION ACTIVE</span>
      </div>
    </div>
    <div class="card-body">
      <div class="status-indicator">
        <div class="status-dot"></div>
        <span>分析就绪</span>
      </div>

      <div class="data-processing">
        <div class="processing-bar"></div>
        <div class="processing-bar"></div>
        <div class="processing-bar"></div>
        <div class="processing-bar"></div>
        <div class="processing-bar"></div>
      </div>

      <div class="preview-container">
        <img id="capturedPreview" class="preview-image" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzBhMTkyOSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0IiBmaWxsPSIjYTBhZWMwIj7nrZvnlaXnmoTlm77niYc8L3RleHQ+PC9zdmc+">

        <!-- 图像扫描线 -->
        <div class="image-scan-line"></div>

        <!-- 数据分析点 -->
        <div class="analysis-points" id="analysisPoints"></div>

        <!-- 网格覆盖层 -->
        <div class="grid-overlay"></div>
      </div>

      <div id="resultMessage" class="result-message"></div>
      <div class="loading" id="loading">
        <div class="cyberpunk-spinner">
          <div class="face face-1"></div>
          <div class="face face-2"></div>
          <div class="face face-3"></div>
          <div class="face face-4"></div>
          <div class="inner"></div>

          <!-- 加载粒子 -->
          <div class="loading-particles" id="loadingParticles"></div>
        </div>
        <div class="loading-text">生物特征分析中</div>
      </div>

      <!-- 装饰性数据线 -->
      <div class="data-lines">
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
        <div class="data-line"></div>
      </div>

      <!-- 浮动数据标签 -->
      <div class="data-tags">
        <div class="data-tag" style="top: 20%; left: 25%;">分析结果</div>
        <div class="data-tag" style="top: 40%; left: 75%;">图像处理</div>
        <div class="data-tag" style="top: 60%; left: 15%;">特征匹配</div>
      </div>

      <!-- 数字故障图块 -->
      <div class="glitch-block" style="top: 15%; left: 70%; width: 15px; height: 7px;"></div>
      <div class="glitch-block" style="top: 55%; left: 85%; width: 12px; height: 6px;"></div>
      <div class="glitch-block" style="top: 80%; left: 30%; width: 18px; height: 4px;"></div>
    </div>

    <!-- 装饰性3D元素 -->
    <div class="rotating-element">
      <svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
        <circle cx="25" cy="25" r="20" fill="none" stroke="var(--secondary-color)" stroke-width="1"></circle>
        <circle cx="25" cy="25" r="10" fill="none" stroke="var(--secondary-color)" stroke-width="1"></circle>
        <path d="M5,25 L45,25" fill="none" stroke="var(--secondary-color)" stroke-width="1"></path>
        <path d="M25,5 L25,45" fill="none" stroke="var(--secondary-color)" stroke-width="1"></path>
      </svg>
    </div>

    <!-- 装饰性电路图 -->
    <svg class="tech-circuit" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
      <path d="M10,30 L40,30 L40,50 L60,50 L60,70 L90,70" fill="none" stroke="var(--secondary-color)" stroke-width="1.5"></path>
      <circle cx="40" cy="30" r="3" fill="var(--secondary-color)"></circle>
      <circle cx="40" cy="50" r="3" fill="var(--secondary-color)"></circle>
      <circle cx="60" cy="70" r="3" fill="var(--secondary-color)"></circle>
    </svg>

    <!-- 动态模糊效果 -->
    <div class="motion-blur"></div>
  </div>
</div>

<script>
        // 视频元素和全局变量
        const video = document.getElementById('videoPreview');
        const retryBtn = document.getElementById('retryBtn');
        const cameraContainer = document.getElementById('cameraContainer');
        let currentStream = null;

        // Java代码雨效果
        function setupCodeRain() {
            const canvas = document.getElementById('codeRain');
            const ctx = canvas.getContext('2d');

            // 设置Canvas尺寸
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();

            // Java代码片段集合
            const javaCodeSnippets = [
                "public class Main {",
                "    public static void main(String[] args) {",
                "        System.out.println(\"Hello World\");",
                "    }",
                "}",
                "private void method() {",
                "    return null;",
                "}",
                "try {",
                "    throw new Exception();",
                "} catch(Exception e) {",
                "    e.printStackTrace();",
                "}",
                "for(int i=0; i<10; i++) {",
                "    sum += i;",
                "}",
                "while(true) {",
                "    if(condition) break;",
                "}",
                "int[] array = new int[10];",
                "List<String> list = new ArrayList<>();",
                "Map<String, Object> map = new HashMap<>();",
                "@Override",
                "public String toString() {",
                "    return super.toString();",
                "}",
                "private static final String CONSTANT = \"Value\";",
                "switch(value) {",
                "    case 1: return \"one\";",
                "    default: return \"other\";",
                "}",
                "interface MyInterface {",
                "    void doSomething();",
                "}",
                "enum Status {",
                "    ACTIVE, INACTIVE, PENDING",
                "}",
                "Stream.of(1,2,3).map(i -> i*2).collect(Collectors.toList());",
                "new Thread(() -> System.out.println(\"Lambda\")).start();",
                "boolean isValid = Pattern.matches(\"[a-z]+\", text);",
                "String formatted = String.format(\"%s: %d\", name, value);",
                "LocalDateTime now = LocalDateTime.now();",
                "CompletableFuture.supplyAsync(() -> fetchData())",
                "Optional<User> user = Optional.ofNullable(getUser())",
                "record Person(String name, int age) {}",
                "var result = switch(status) {",
                "    case SUCCESS -> \"OK\";",
                "    case ERROR -> \"Failed\";",
                "};",
                "Files.readAllLines(Path.of(\"file.txt\"))",
                "BiFunction<Integer, Integer, Integer> add = (a, b) -> a + b;",
                "Predicate<String> isEmpty = String::isEmpty;",
                "Consumer<String> print = System.out::println;",
                "public <T extends Comparable<T>> T max(T a, T b) {",
                "AtomicInteger counter = new AtomicInteger(0);",
                "ReentrantLock lock = new ReentrantLock();",
                "CountDownLatch latch = new CountDownLatch(5);",
                "ExecutorService executor = Executors.newFixedThreadPool(4);",
                "Future<String> future = executor.submit(callable);",
                "@Autowired private UserService userService;",
                "@RequestMapping(\"/users/{id}\")",
                "@Transactional public void save() {",
                "public class UserController {",
                "if (obj instanceof String s) {",
                "return switch (obj) {",
                "    case String s -> s.length();",
                "    default -> 0;",
                "};",
                "record Point(int x, int y) {",
                "    public Point { if (x < 0) x = 0; }",
                "}"
            ];

            // 列数
            const columns = Math.floor(canvas.width / 15);
            // 每列的当前位置
            const drops = [];
            // 每列的字符
            const chars = [];

            // 初始化每列
            for (let i = 0; i < columns; i++) {
                drops[i] = Math.random() * -canvas.height;
                chars[i] = javaCodeSnippets[Math.floor(Math.random() * javaCodeSnippets.length)];
            }

            // 绘制代码雨
            function drawCodeRain() {
                // 半透明黑色背景，形成拖尾效果
                ctx.fillStyle = 'rgba(10, 14, 23, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // 设置文本样式
                ctx.font = '12px JetBrainsMono, monospace';

                // 逐列绘制字符
                for (let i = 0; i < drops.length; i++) {
                    const text = chars[i];
                    const y = drops[i];

                    // 如果当前位置允许绘制，则绘制字符
                    if (y > 0) {
                        const character = text[Math.floor((y / 20) % text.length)];

                        // 根据字符位置设置不同的颜色和透明度
                        const alpha = Math.random() * 0.5 + 0.3;
                        if (Math.random() > 0.98) { // 偶尔出现较亮的字符
                            ctx.fillStyle = `rgba(0, 255, 170, ${alpha * 1.5})`;
                        } else {
                            ctx.fillStyle = `rgba(0, 230, 118, ${alpha})`;
                        }

                        ctx.fillText(character, i * 15, y);
                    }

                    // 字符下移
                    drops[i] += Math.random() * 2 + 1;

                    // 如果到达底部，则重新回到顶部，并随机选择新代码片段
                    if (drops[i] > canvas.height + 100 && Math.random() > 0.99) {
                        drops[i] = -20;
                        chars[i] = javaCodeSnippets[Math.floor(Math.random() * javaCodeSnippets.length)];
                    }
                }

                requestAnimationFrame(drawCodeRain);
            }

            // 启动动画
            drawCodeRain();
        }

        // 粒子效果
        function setupParticles() {
            const canvas = document.getElementById('particles');
            const ctx = canvas.getContext('2d');

            // 设置Canvas尺寸
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();

            // 粒子数组
            const particles = [];
            const particleCount = 80;

            // 初始化粒子
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    radius: Math.random() * 2 + 0.5,
                    color: `rgba(0, ${Math.floor(Math.random() * 100 + 155)}, ${Math.floor(Math.random() * 100 + 155)}, ${Math.random() * 0.4 + 0.1})`,
                    speedX: Math.random() * 0.5 - 0.25,
                    speedY: Math.random() * 0.5 - 0.25
                });
            }

            // 绘制和更新粒子
            function drawParticles() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // 绘制每个粒子
                particles.forEach(p => {
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fillStyle = p.color;
                    ctx.fill();

                    // 更新位置
                    p.x += p.speedX;
                    p.y += p.speedY;

                    // 如果粒子移出画布，从另一侧重新进入
                    if (p.x < 0) p.x = canvas.width;
                    if (p.x > canvas.width) p.x = 0;
                    if (p.y < 0) p.y = canvas.height;
                    if (p.y > canvas.height) p.y = 0;
                });

                // 绘制粒子之间的连线
                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        const p1 = particles[i];
                        const p2 = particles[j];
                        const distance = Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));

                        if (distance < 100) {
                            ctx.beginPath();
                            ctx.moveTo(p1.x, p1.y);
                            ctx.lineTo(p2.x, p2.y);
                            ctx.strokeStyle = `rgba(0, 240, 200, ${(100 - distance) / 500})`;
                            ctx.lineWidth = 0.2;
                            ctx.stroke();
                        }
                    }
                }

                requestAnimationFrame(drawParticles);
            }

            // 启动动画
            drawParticles();
        }

        // 创建星空效果
        function createStars() {
            const starsContainer = document.querySelector('.stars');
            const starsCount = 100;

            for (let i = 0; i < starsCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';

                // 随机位置
                const left = Math.random() * 100;
                const top = Math.random() * 100;

                // 随机大小
                const size = Math.random() * 2 + 1;

                // 随机闪烁动画
                const minOpacity = Math.random() * 0.3;
                const maxOpacity = Math.min(minOpacity + 0.5, 1);
                const duration = 1 + Math.random() * 3;

                star.style.left = `${left}%`;
                star.style.top = `${top}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.setProperty('--min-opacity', minOpacity);
                star.style.setProperty('--max-opacity', maxOpacity);
                star.style.setProperty('--twinkle-duration', `${duration}s`);

                starsContainer.appendChild(star);
            }
        }

        // 创建动态浮动标签
        function createFloatingTags() {
            const dataTags = document.querySelectorAll('.data-tag');

            dataTags.forEach((tag, index) => {
                const delay = index * 2;
                const duration = 5 + Math.random() * 5;

                tag.style.animation = `tagFloat ${duration}s linear infinite ${delay}s`;
                tag.style.top = `${20 + Math.random() * 60}%`;
                tag.style.left = `${10 + Math.random() * 80}%`;
            });
        }

        // 添加随机分析点
        function createAnalysisPoints() {
            const container = document.getElementById('analysisPoints');

            function addPoint() {
                if (!container) return;

                const point = document.createElement('div');
                point.className = 'analysis-point';

                // 随机位置
                point.style.top = `${10 + Math.random() * 80}%`;
                point.style.left = `${10 + Math.random() * 80}%`;

                container.appendChild(point);

                // 动画结束后移除点
                setTimeout(() => {
                    if (point && point.parentNode) {
                        point.parentNode.removeChild(point);
                    }
                }, 3000);

                // 随机添加下一个点
                setTimeout(addPoint, Math.random() * 1000 + 500);
            }

            // 开始添加分析点
            addPoint();
        }

        // 创建加载粒子
        function createLoadingParticles() {
            const container = document.getElementById('loadingParticles');

            function addParticle() {
                if (!container || container.parentElement.parentElement.style.display === 'none') return;

                const particle = document.createElement('div');
                particle.className = 'loading-particle';

                // 随机位置
                const angle = Math.random() * Math.PI * 2;
                const distance = 30 + Math.random() * 20;
                const x = Math.cos(angle) * distance + 50;
                const y = Math.sin(angle) * distance + 50;

                particle.style.top = `${y}%`;
                particle.style.left = `${x}%`;

                container.appendChild(particle);

                // 动画结束后移除粒子
                setTimeout(() => {
                    if (particle && particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 3000);

                // 继续添加粒子
                setTimeout(addParticle, Math.random() * 200 + 100);
            }

            // 开始添加粒子
            for (let i = 0; i < 5; i++) {
                setTimeout(addParticle, i * 200);
            }
        }

        // 添加按钮点击效果
        function addButtonEffects() {
            const buttons = document.querySelectorAll('.action-btn');

            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    this.classList.add('btn-click-effect');

                    // 移除类以便下次再添加
                    setTimeout(() => {
                        this.classList.remove('btn-click-effect');
                    }, 500);
                });
            });
        }

        // 添加随机故障效果
        function createGlitchEffects() {
            const glitchBlocks = document.querySelectorAll('.glitch-block');

            glitchBlocks.forEach(block => {
                setInterval(() => {
                    // 随机显示/隐藏
                    block.style.opacity = Math.random() > 0.7 ? (Math.random() * 0.2 + 0.1) : '0';

                    // 随机移动位置
                    if (Math.random() > 0.8) {
                        block.style.top = `${parseInt(block.style.top) + (Math.random() * 10 - 5)}%`;
                        block.style.left = `${parseInt(block.style.left) + (Math.random() * 10 - 5)}%`;
                    }
                }, 1000 + Math.random() * 2000);
            });
        }

        // 初始化摄像头
        async function initCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { facingMode: "USER" } // 摄像头
                });
                video.srcObject = stream;
                currentStream = stream;
            } catch (err) {
                alert("无法访问摄像头，请检查权限设置");
                console.error("摄像头错误:", err);
            }
        }

        // 拍摄照片
        function capturePhoto() {
            // 触发扫描动画
            cameraContainer.classList.add('scan-active');

            // 添加动态模糊效果
            const blurEffect = document.querySelector('.camera-box .motion-blur');
            blurEffect.style.opacity = '1';

            setTimeout(() => {
                blurEffect.style.opacity = '0';

                // 移除扫描动画类
                setTimeout(() => {
                    cameraContainer.classList.remove('scan-active');
                }, 1000);
            }, 500);

            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');

            // 设置canvas尺寸与视频一致
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;

            // 绘制图像（镜像处理）
            context.translate(canvas.width, 0);
            context.scale(-1, 1);
            context.drawImage(video, 0, 0, canvas.width, canvas.height);

            // 转换为Blob
            canvas.toBlob(async (blob) => {
                const preview = document.getElementById('capturedPreview');
                preview.src = URL.createObjectURL(blob);
                retryBtn.style.display = 'inline-flex';
                await sendToServer(blob);
            }, 'image/jpeg', 0.9);
        }

        // 发送到后端检测
        async function sendToServer(blob) {
            const loading = document.getElementById('loading');
            const resultMessage = document.getElementById('resultMessage');

            try {
                loading.style.display = 'block';
                resultMessage.className = 'result-message';
                resultMessage.innerHTML = '';

                // 创建加载粒子
                createLoadingParticles();

                // 显示分析点
                createAnalysisPoints();

                // 添加结果卡片的动态模糊效果
                const blurEffect = document.querySelector('.result-box .motion-blur');
                blurEffect.style.opacity = '1';

                setTimeout(() => {
                    blurEffect.style.opacity = '0';
                }, 800);

                // 创建表单数据
                const formData = new FormData();
                // 文件参数配置（需要保证参数名与后端接收一致）
                formData.append('file', blob, 'face.jpg'); // 文件参数，对应后端MultipartFile参数名

                // 发送请求（需要替换为实际的后端地址）
                const response = await fetch('http://localhost:9090/face/isLivingFace', {
                    method: 'POST',
                    body: formData
                });

                if (!response.ok) throw new Error('请求失败');

                const result = await response.json();

                // 根据结果更新界面
                if (result === true) {
                    resultMessage.innerHTML = '<i class="fas fa-check-circle" style="margin-right:8px;"></i>活体检测成功';
                    resultMessage.className = 'result-message success';
                } else {
                    resultMessage.innerHTML = '<i class="fas fa-times-circle" style="margin-right:8px;"></i>活体检测失败';
                    resultMessage.className = 'result-message error';
                }
            } catch (err) {
                resultMessage.innerHTML = '<i class="fas fa-exclamation-triangle" style="margin-right:8px;"></i>检测失败，请重试';
                resultMessage.className = 'result-message error';
                console.error('检测出错:', err);
            } finally {
                loading.style.display = 'none';
            }
        }

        // 重置摄像头
        function resetCamera() {
            // 停止当前视频流
            if (currentStream) {
                currentStream.getTracks().forEach(track => track.stop());
            }

            // 重置界面元素
            document.getElementById('capturedPreview').src = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzBhMTkyOSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0IiBmaWxsPSIjYTBhZWMwIj7nrZvnlaXnmoTlm77niYc8L3RleHQ+PC9zdmc+';
            document.getElementById('resultMessage').textContent = '';
            retryBtn.style.display = 'none';

            // 添加动态模糊效果
            const blurEffectCamera = document.querySelector('.camera-box .motion-blur');
            const blurEffectResult = document.querySelector('.result-box .motion-blur');
            blurEffectCamera.style.opacity = '1';
            blurEffectResult.style.opacity = '1';

            setTimeout(() => {
                blurEffectCamera.style.opacity = '0';
                blurEffectResult.style.opacity = '0';
            }, 500);

            // 重新初始化摄像头
            initCamera();
        }

        // 页面加载后初始化
        window.onload = function() {
            setTimeout(() => {
                initCamera();
                setupCodeRain();
                setupParticles();
                createStars();
                createFloatingTags();
                addButtonEffects();
                createGlitchEffects();
            }, 500); // 稍微延迟初始化以让启动动画显示
        };
    </script>


</body></html>